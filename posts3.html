<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fórum IDPW</title>
    <link rel="stylesheet" href="novapostagem.css">
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital@1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <h1>Novo Tópico</h1>
    <form id="topicForm">
        <label for="tituloTopico">Título do Tópico:</label>
        <input type="text" id="tituloTopico" name="tituloTopico">
        <br>
        <label for="conteudoTopico">Conteúdo do Tópico:</label>
        <textarea id="conteudoTopico" name="conteudoTopico"></textarea>
        <br>
        <button type="button" onclick="criarTopico()">Criar Tópico</button>
    </form>

    <div id="topicosExibidos"></div>

    <script>
        function criarTopico() {
            // Obter os valores do formulário do tópico
            var tituloTopico = document.getElementById('tituloTopico').value;
            var conteudoTopico = document.getElementById('conteudoTopico').value;

            // Criar um objeto para representar o tópico
            var topico = {
                titulo: tituloTopico,
                conteudo: conteudoTopico,
                posts: [] // Inicializar array para armazenar posts
            };

            // Armazenar o tópico no Local Storage
            var topicos = JSON.parse(localStorage.getItem('topicos')) || [];
            topicos.push(topico);
            localStorage.setItem('topicos', JSON.stringify(topicos));

            // Limpar formulário
            document.getElementById('tituloTopico').value = '';
            document.getElementById('conteudoTopico').value = '';

            // Exibir os tópicos na página
            exibirTopicos();
        }

        function exibirTopicos() {
            // Obter os tópicos do Local Storage
            var topicos = JSON.parse(localStorage.getItem('topicos')) || [];

            // Exibir os tópicos em algum lugar da página
            var topicosExibidos = document.getElementById('topicosExibidos');
            topicosExibidos.innerHTML = "<h2>Tópicos Criados:</h2>";

            topicos.forEach(function(topico, index) {
                topicosExibidos.innerHTML += "<div><strong>Tópico " + (index + 1) + ":</strong> " + topico.titulo + "</div>";
                topicosExibidos.innerHTML += "<p><strong>Conteúdo:</strong> " + topico.conteudo + "</p>";

                // Exibir posts do tópico
                if (topico.posts.length > 0) {
                    topicosExibidos.innerHTML += "<h3>Posts:</h3>";
                    topico.posts.forEach(function(post) {
                        topicosExibidos.innerHTML += "<p><strong>Título:</strong> " + post.titulo + "</p>";
                        topicosExibidos.innerHTML += "<p><strong>Conteúdo:</strong> " + post.conteudo + "</p>";
                    });
                }

                topicosExibidos.innerHTML += "<hr>";
            });
        }
    </script>
    
</body>
</html>
